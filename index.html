<!doctype html>
<html>
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Captcha Solver - captcha-solver-demo</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;padding:16px}
    #captcha-img{max-width:100%;height:auto;border:1px solid #ddd}
    #captcha-solution{margin-top:12px;padding:8px;border-radius:4px;background:#f4f4f4}
  </style>
</head>
<body>
  <h1>Captcha Solver</h1>
  <p>Task: captcha-solver-demo</p>
  <img id="captcha-img" alt="captcha image" src="">
  <div id="captcha-solution">(not solved yet)</div>

  <script>
    function getParam(k){const p=new URLSearchParams(location.search);return p.get(k);}
    const url = getParam('url') || 'assets/sample.png';
    const img = document.getElementById('captcha-img');
    img.src = url || '';
    function showSolution(s){document.getElementById('captcha-solution').textContent = s;}
    img.onload = () => {
      // naive solver: if filename contains 'sample' return 'SAMPLE'
      setTimeout(() => {
        try {
          const u = new URL(img.src, location.href);
          const name = u.pathname.split('/').pop() || '';
          if (name.toLowerCase().includes('sample')) {
            showSolution('SAMPLE');
          } else {
            showSolution('UNAVAILABLE');
          }
        } catch(e) {
          showSolution('UNAVAILABLE');
        }
      }, 1000);
    };
    img.onerror = () => { showSolution('IMAGE ERROR'); };
  </script>
</body>
</html>
